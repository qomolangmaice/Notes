/**
  ******************************************************************************
  * @file    Project/STM32F10x_StdPeriph_Template/main.c 
  * @author  MCD Application Team
  * @version V3.5.0
  * @date    08-April-2011
  * @brief   Main program body
  ******************************************************************************
  * @attention
  *
  * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  *
  * 
  ******************************************************************************
  */  

/* Includes ------------------------------------------------------------------*/
#include "stm32f10x.h"
#include "ili9341.h"
#include "xpt2046.h"

#define LED1_ON GPIO_ResetBits(GPIOB,GPIO_Pin_5)
#define LED1_OFF GPIO_SetBits(GPIOB,GPIO_Pin_5)
#define LED2_ON GPIO_ResetBits(GPIOD,GPIO_Pin_12)
#define LED2_OFF GPIO_SetBits(GPIOD,GPIO_Pin_12)

#define KEY1_Status GPIO_ReadInputDataBit(GPIOC, GPIO_Pin_13)
#define KEY2_Status GPIO_ReadInputDataBit(GPIOD, GPIO_Pin_3)

#define BEEP_OFF GPIO_ResetBits(GPIOD,GPIO_Pin_6)
#define BEEP_ON GPIO_SetBits(GPIOD,GPIO_Pin_6)


const unsigned char hanzi_16[5][512]={
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x78,0x00,0x00,0x00,0x00,0x78,0x00,0x00,0x70,0x00,0x00,
0x00,0x00,0x7C,0x00,0x00,0x30,0x00,0x00,0x00,0x00,0x7E,0x00,0x00,0x30,0x00,0x00,
0x00,0x00,0xFF,0x00,0x00,0x70,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x70,0x00,0x00,
0x00,0x01,0xFF,0x00,0x00,0xF0,0x00,0x00,0x00,0x01,0xFE,0x00,0x00,0xE0,0x00,0x00,
0x00,0x03,0xFE,0x00,0x01,0xE0,0x00,0x00,0x00,0x03,0xFC,0x00,0x01,0xE0,0x00,0x00,
0x00,0x07,0xF8,0x00,0x03,0xE0,0x00,0x00,0x00,0x0F,0xF8,0x00,0x03,0xE0,0x00,0x00,
0x00,0x0F,0xF0,0x00,0x07,0xE0,0x00,0x00,0x00,0x1F,0xE0,0x00,0x07,0xC0,0x00,0x00,
0x00,0x3F,0xE0,0x00,0x0F,0xE0,0x00,0x00,0x00,0x3F,0xC0,0x00,0x0F,0xF8,0x00,0x00,
0x00,0x7F,0x80,0x00,0x1F,0xFC,0x00,0x00,0x00,0xFF,0x00,0x00,0x3F,0xFF,0x00,0x00,
0x01,0xFF,0x00,0x00,0x3E,0xFF,0x80,0x00,0x01,0xFF,0x00,0x00,0x7C,0x7F,0xE0,0x00,
0x03,0xFF,0x00,0x00,0x78,0x3F,0xF8,0x00,0x07,0xFF,0x80,0x00,0xF0,0x1F,0xFE,0x00,
0x07,0xFF,0xC0,0x00,0xE0,0x0F,0xFF,0xC0,0x07,0xFF,0xE0,0x01,0xC0,0x07,0xFF,0xF8,
0x03,0xFF,0xC0,0x01,0x80,0x03,0xFF,0xFF,0x00,0x1F,0xC0,0x03,0x80,0x07,0xFF,0xFF,
0x00,0x3F,0xC0,0x03,0x00,0x3F,0xFF,0xFF,0x00,0x7F,0x80,0x27,0x01,0xFF,0xFF,0xFF,
0x00,0x7F,0x80,0x7E,0x0F,0xFF,0x87,0xFF,0x00,0xFF,0x00,0x7E,0x7F,0xFC,0x00,0x1F,
0x01,0xFE,0x00,0xFF,0xFF,0xE0,0x00,0x00,0x03,0xFC,0x01,0xFB,0xFF,0x80,0x00,0x00,
0x03,0xF8,0x01,0xF1,0xFE,0x00,0x00,0x00,0x07,0xF8,0x03,0xF0,0xFC,0x1F,0xFC,0x00,
0x0F,0xFC,0x06,0xE0,0x71,0xFF,0xFF,0x00,0x0F,0xFC,0x04,0x40,0xE7,0xFF,0xFF,0x00,
0x1F,0xFC,0x0C,0x00,0xC7,0xFF,0xFF,0x00,0x1F,0xFE,0x18,0x01,0xC0,0x01,0xFF,0x00,
0x1F,0xFE,0x18,0x03,0x80,0x03,0xFE,0x00,0x1F,0xFE,0x30,0x03,0x80,0x07,0xFC,0x00,
0x1F,0xFF,0xE0,0x07,0x00,0x0F,0xF8,0x00,0x01,0xFF,0xE0,0x07,0x00,0x0F,0xF0,0x00,
0x03,0xFF,0xC0,0x0F,0x00,0x1F,0xE0,0x00,0x03,0xFF,0x80,0x0F,0x00,0x3F,0x80,0x00,
0x03,0xFF,0x00,0x0F,0x80,0x7E,0x00,0x00,0x07,0xFF,0x00,0x0F,0x80,0xFF,0xC0,0x00,
0x07,0xFE,0x00,0x0F,0x81,0xFF,0xE0,0x00,0x07,0xFC,0x00,0x0F,0x81,0xFF,0xF0,0x00,
0x0F,0xF8,0x00,0x0F,0x81,0xFF,0xE0,0x00,0x0F,0xF0,0x00,0x07,0x80,0xFF,0xC0,0x00,
0x0F,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,
0x0F,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"给",0*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x80,0x00,0x00,
0x00,0x00,0x00,0x00,0x03,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xE0,0x00,0x00,
0x00,0x00,0x00,0x00,0x07,0xF0,0x00,0x00,0x00,0x00,0xC0,0x00,0x07,0xF0,0x00,0x00,
0x00,0x00,0xF0,0x00,0x07,0xF8,0x00,0x00,0x00,0x00,0xF8,0x00,0x07,0xF8,0x00,0x00,
0x00,0x00,0xF8,0x00,0x0F,0xF8,0x0F,0xF0,0x00,0x01,0xFC,0x00,0x0F,0xF9,0xFF,0xFC,
0x00,0x01,0xFC,0x00,0x0F,0xFF,0xFF,0xFE,0x00,0x03,0xFC,0x00,0x0F,0xFF,0xFF,0xFF,
0x00,0x03,0xFC,0x00,0x1F,0xFF,0xFF,0xFF,0x00,0x07,0xFC,0x00,0x1F,0xFF,0xFF,0xFE,
0x00,0x07,0xFC,0x00,0x1F,0xFF,0xFF,0xFC,0x00,0x0F,0xF8,0x00,0x1F,0xFF,0xFF,0xF8,
0x00,0x1F,0xF8,0x00,0x1F,0xFF,0xFF,0xE0,0x00,0x3F,0xF0,0x00,0x1F,0xFF,0xFF,0xC0,
0x00,0x3F,0xF0,0x00,0x0F,0xEF,0xFF,0x80,0x00,0x7F,0xE0,0x00,0x0F,0x8F,0xFE,0x00,
0x00,0xFF,0xE0,0x00,0x00,0x0F,0xF8,0x00,0x01,0xFF,0xC0,0x00,0x00,0x1F,0xE0,0x00,
0x01,0xFF,0x80,0x00,0x00,0x1F,0xE0,0x00,0x03,0xFF,0x00,0x00,0x00,0x0F,0xE0,0x00,
0x07,0xFE,0x00,0x00,0x00,0x0F,0xE0,0x00,0x0F,0xFE,0x00,0x00,0x00,0x0F,0xE0,0x00,
0x1F,0xFE,0x00,0x00,0x00,0x0F,0xE0,0x00,0x3F,0xFF,0x00,0x00,0x00,0x0F,0xE0,0x00,
0x3F,0xFF,0x00,0x00,0x00,0x0F,0xF0,0x00,0x3F,0xFF,0x00,0x00,0x00,0x07,0xF0,0x00,
0x1F,0xFF,0x00,0x00,0x00,0x07,0xF0,0x00,0x03,0xFF,0x0C,0x00,0x00,0x07,0xF0,0x00,
0x00,0x3F,0x0C,0x00,0x00,0x07,0xF0,0x00,0x00,0x3F,0x18,0x1C,0x00,0x07,0xF0,0x00,
0x00,0x3F,0x18,0x3E,0x00,0x07,0xF0,0x00,0x00,0x3F,0x38,0x3E,0x00,0x07,0xF8,0x00,
0x00,0x3F,0xF0,0x7F,0x00,0x07,0xF8,0x3C,0x00,0x3F,0xF0,0x7F,0x00,0x07,0xF8,0x3F,
0x00,0x7F,0xE0,0x7F,0x00,0x07,0xF8,0x3F,0x00,0x7F,0xE0,0xFF,0x00,0x0F,0xF8,0x3F,
0x00,0x7F,0xC0,0xFF,0x00,0x0F,0xF8,0x3F,0x00,0x7F,0xC0,0xFF,0xE0,0x0F,0xF8,0x3F,
0x00,0x7F,0x80,0xFF,0xF8,0x0F,0xF0,0x1F,0x00,0x7F,0x80,0xFF,0xFC,0x1F,0xF0,0x1F,
0x00,0xFF,0x00,0xFF,0xFF,0xFF,0xF0,0x1F,0x00,0xFF,0x00,0xFF,0x9F,0xFF,0xF0,0x0F,
0x00,0xFE,0x00,0xFF,0x8F,0xFF,0xF0,0x0F,0x00,0xFE,0x00,0xFF,0x87,0xFF,0xE0,0x00,
0x00,0x3C,0x00,0xFF,0x01,0xFF,0xE0,0x00,0x00,0x1C,0x00,0xFF,0x00,0xFF,0xE0,0x00,
0x00,0x00,0x00,0xFE,0x00,0x7F,0xE0,0x00,0x00,0x00,0x00,0xFC,0x00,0x3F,0xC0,0x00,
0x00,0x00,0x00,0x00,0x00,0x3F,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"你",1*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xC0,
0x00,0x00,0x00,0x00,0x00,0x0F,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x80,
0x00,0x00,0x00,0x00,0x03,0xFF,0xFF,0x80,0x00,0x03,0xFF,0x80,0x03,0xFF,0xFF,0x00,
0x00,0x0F,0xFF,0xF0,0x01,0xFF,0xFE,0x00,0x00,0x03,0xFF,0xF0,0x00,0x01,0xFE,0x00,
0x00,0x03,0xFF,0xF0,0x00,0x01,0xFE,0x00,0x00,0x03,0xF1,0xF0,0x00,0x07,0xFF,0x00,
0x00,0x03,0xF1,0xE0,0x00,0x0F,0xFF,0x80,0x00,0x03,0xF0,0x00,0x00,0x1F,0xFF,0xF0,
0x00,0x03,0xF0,0x00,0x00,0x63,0xFF,0xE0,0x00,0x03,0xF0,0x00,0x01,0xFF,0xFF,0xC0,
0x00,0x03,0xFC,0x00,0x03,0xFF,0xFF,0xC0,0x00,0x03,0xFE,0x00,0x07,0xFF,0xFF,0x80,
0x00,0x3F,0xFF,0x00,0x07,0xFF,0xFF,0x00,0x00,0x3F,0xFE,0x00,0x0F,0xFF,0xFF,0x00,
0x00,0x3F,0xFC,0x00,0x04,0x07,0xFF,0x80,0x00,0x1F,0xFC,0x00,0x00,0x1F,0xFF,0xC0,
0x00,0x03,0xF8,0x00,0x00,0x3F,0xFF,0xE0,0x00,0x03,0xF0,0x00,0x00,0x7F,0xFF,0xE0,
0x00,0x03,0xF0,0x00,0x01,0xFF,0xFF,0xC0,0x00,0x03,0xF0,0xF0,0x03,0xFF,0xFF,0x80,
0x00,0x07,0xF3,0xF0,0x07,0xFF,0xFF,0x00,0x00,0x0F,0xF7,0xE0,0x0F,0xFF,0xFF,0x00,
0x00,0x0F,0xFF,0x80,0x0F,0xFF,0xFF,0x00,0x00,0x03,0xFF,0x00,0x04,0x0F,0xFF,0x00,
0x00,0x23,0xFE,0x00,0x00,0x3F,0xFF,0x00,0x00,0x7F,0xFC,0x00,0x00,0xFF,0xFF,0x00,
0x01,0xFF,0xFC,0x00,0x03,0x83,0xFF,0x80,0x03,0xFF,0xF8,0x00,0x00,0x03,0xFF,0xDF,
0x07,0xFF,0xF8,0x00,0x00,0x1F,0xFF,0xFF,0x07,0xFF,0xF8,0x00,0x01,0xFF,0xFF,0xFF,
0x07,0xE3,0xF0,0x1F,0xFF,0xFF,0xFF,0xFF,0x07,0x03,0xF0,0x7F,0xFF,0xF3,0xFF,0x00,
0x00,0x07,0xF0,0xFF,0xFE,0x03,0xFF,0x00,0x00,0x07,0xE0,0xFF,0xE0,0x03,0xFF,0x00,
0x00,0x0F,0xC0,0xFC,0x00,0x03,0xFF,0x00,0x00,0x1F,0x80,0x00,0x00,0x03,0xFF,0x00,
0x00,0x3F,0x00,0x00,0x00,0x03,0xFF,0x00,0x00,0xFE,0x00,0x00,0x00,0x03,0xFF,0x00,
0x01,0xFC,0x00,0x00,0x00,0x03,0xFF,0x00,0x03,0xF8,0x00,0x00,0x00,0x03,0xFF,0x00,
0x0F,0xF0,0x00,0x00,0x00,0x03,0xFF,0x00,0x0F,0xE0,0x00,0x00,0x00,0x01,0xFF,0x00,
0x07,0x80,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x00,
0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x00,
0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x00,
0x00,0x00,0x00,0x00,0x00,0x01,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFC,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"拜",2*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xF8,0x00,0x00,0x00,
0x00,0x00,0x00,0x03,0xFC,0x00,0x0E,0x00,0x00,0x00,0x00,0x07,0xFC,0x00,0xFF,0x80,
0x00,0x00,0x00,0x07,0xFC,0x1F,0xFF,0x80,0x00,0x00,0x00,0x0F,0xFF,0xFF,0xFF,0x80,
0x00,0x00,0x00,0x3F,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x00,0x7F,0xFF,0xFF,0xFF,0x00,
0x00,0x00,0x00,0xFF,0xFF,0xF7,0xF8,0x00,0x00,0x00,0x01,0xFF,0xFF,0xCF,0xE0,0x00,
0x00,0x00,0x03,0xFF,0xFF,0xFF,0xF0,0x00,0x00,0x00,0x07,0xFF,0xFF,0xFF,0xF0,0x00,
0x00,0x00,0x07,0xFF,0xFF,0xFF,0xF0,0x00,0x00,0x00,0x0F,0xFF,0xFF,0xFF,0xF0,0x00,
0x00,0x00,0x0F,0xFF,0xBF,0xC7,0xE0,0x00,0x00,0x00,0x0F,0xFC,0x7F,0x87,0xF0,0x00,
0x00,0x00,0x0F,0xFF,0xFC,0x7F,0xF0,0x00,0x00,0x00,0x07,0xFF,0xE1,0xFF,0xF0,0x00,
0x00,0x00,0x00,0x7F,0xFF,0xFF,0xF0,0x00,0x00,0x00,0x00,0x7F,0xFF,0xFF,0xF0,0x00,
0x00,0x00,0x01,0xFF,0xFF,0xFF,0xF0,0x00,0x00,0x00,0x03,0xFF,0xFF,0xFF,0xC0,0x00,
0x00,0x00,0x07,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x00,0x0F,0xFF,0xFF,0xFF,0x80,0x00,
0x00,0x00,0x1F,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x00,0x1F,0xFF,0xF8,0x3F,0x80,0x00,
0x00,0x00,0x1F,0xC7,0xC0,0x3F,0x80,0x00,0x00,0x00,0x00,0x07,0x00,0x3F,0x80,0x00,
0x00,0x00,0x00,0x3C,0x00,0x3F,0x80,0x00,0x00,0x00,0x00,0xF0,0x00,0x3F,0x80,0x00,
0x00,0x00,0x01,0xE0,0x00,0x3F,0x80,0x00,0x00,0x00,0x07,0xFF,0x00,0x7F,0x80,0x00,
0x00,0x00,0x0F,0xFF,0xF0,0x7F,0x80,0x00,0x00,0x00,0x0F,0xFF,0xF8,0x7F,0x80,0x00,
0x00,0x00,0x1F,0xFF,0xF0,0x7F,0x80,0x00,0x00,0x00,0x1F,0xFF,0xE0,0x7F,0x80,0x00,
0x00,0x00,0x0F,0xFF,0xC0,0x7F,0x80,0x00,0x00,0x00,0x0F,0xFF,0x00,0x7F,0x80,0x3C,
0x00,0x00,0x00,0x00,0x00,0x7F,0x87,0xFF,0x00,0x00,0x00,0x00,0x00,0x7F,0xFF,0xFF,
0x00,0x00,0x00,0x00,0x0F,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x0F,0xFF,0xFF,0xFF,0xFF,
0x00,0x00,0x07,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0xFF,0xFF,0xE0,0x7F,0x87,0xFF,
0x00,0x1F,0xFF,0xFC,0x00,0x7F,0x00,0x00,0x00,0xFF,0xFF,0xC0,0x00,0x7F,0x00,0x00,
0x07,0xFF,0xFC,0x00,0x00,0x7F,0x00,0x00,0x3F,0xFF,0x80,0x00,0x00,0x7F,0x00,0x00,
0x1F,0xFC,0x00,0x00,0x00,0x7F,0x00,0x00,0x0F,0xC0,0x00,0x00,0x00,0x7F,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,
0x00,0x00,0x00,0x00,0x07,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xFF,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"年",3*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xFE,0x00,
0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x1F,0xFF,0xFF,0xC0,
0x00,0x00,0x00,0x07,0xFF,0xFF,0xFF,0x80,0x00,0x00,0x01,0xFF,0xFF,0x9F,0xFF,0x00,
0x00,0x00,0x3F,0xFF,0xFC,0x3F,0xFE,0x00,0x00,0x00,0xFF,0xFF,0xF0,0x7F,0xFC,0x00,
0x00,0x00,0xFF,0xFF,0xC0,0xFF,0xF0,0x00,0x00,0x00,0x7F,0xFE,0x01,0xFF,0xE0,0x00,
0x00,0x00,0x0F,0xF8,0x03,0xFF,0xC0,0x00,0x00,0x00,0x00,0xE0,0x0F,0xFF,0x80,0x00,
0x00,0x00,0x00,0x00,0x1F,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xFC,0x00,0x00,
0x00,0x00,0x00,0x00,0x7F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xE0,0x00,0x00,
0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x80,0x00,0x00,
0x00,0x00,0x00,0x00,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xC0,0x00,0x00,
0x00,0x00,0x00,0x00,0x7F,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xE0,0x00,0x00,
0x00,0x00,0x00,0x00,0x3F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xF0,0x00,0x00,
0x00,0x00,0x00,0x00,0x0F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xF0,0x00,0x00,
0x00,0x00,0x00,0x00,0x0F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xF0,0x00,0x00,
0x00,0x00,0x00,0x00,0x0F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xF0,0x00,0x00,
0x00,0x00,0x00,0x00,0x0F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x00,
0x00,0x00,0x00,0x00,0x1F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xF0,0x00,0x00,
0x00,0x00,0x00,0x00,0x3F,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0xF0,0x00,0x00,
0x00,0x00,0x00,0x00,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x07,0xFF,0xF0,0x00,0x00,
0x00,0x7F,0xFF,0xFF,0xFF,0xF0,0x00,0x00,0x00,0x7F,0xFF,0xFF,0xFF,0xE0,0x00,0x00,
0x00,0x1F,0xFF,0xFF,0xFF,0xE0,0x00,0x00,0x00,0x00,0x3F,0xFF,0xFF,0xE0,0x00,0x00,
0x00,0x00,0x00,0x7F,0xFF,0xC0,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x80,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"了",4*/
};

void LCD_ShowHZ64(uint16_t x,uint16_t y,uint16_t num)
{
	uint8_t temp;
	uint16_t pos,t;

	LCD_XYRAM(x,y,x+63,y+63); // 设置GRAM坐标
	LCD_WR_REG(0x002C);	  	 //指向RAM寄存器，准备写数据到RAM

	for(pos=0;pos<512;pos++)
	{
		temp=hanzi_16[num][pos];		
		for(t=0;t<8;t++)
		{                 
			if(temp&0x80)LCD_WR_DATA(POINT_COLOR);
			else LCD_WR_DATA(BACK_COLOR);    
			temp<<=1; 
		}
	}
}

 /**
  * @brief  初始化控制LED的IO
  * @param  无
  * @retval 无
  */
void LED_Init(void)
{		
		/* 定义一个GPIO_InitTypeDef类型的结构体 */
		GPIO_InitTypeDef GPIO_InitStructure;
		/* 开启GPIOB和GPIOD的外设时钟 */
		RCC_APB2PeriphClockCmd( RCC_APB2Periph_GPIOB|RCC_APB2Periph_GPIOD, ENABLE); 
		/* 选择要控制的GPIOB引脚 */															   
		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_5;	
		/* 设置引脚模式为通用推挽输出 */
		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;   
		/* 设置引脚速率为50MHz */   
		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; 
		/* 调用库函数，初始化GPIOB5引脚 */
		GPIO_Init(GPIOB, &GPIO_InitStructure);		
		/* 选择要控制的GPIOD12引脚 */															   
		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_12;
		/* 调用库函数，初始化GPIOD12引脚 */
		GPIO_Init(GPIOD, &GPIO_InitStructure);	  
		/* GPIOB5输出高电平，关闭LED1	*/
		GPIO_SetBits(GPIOB, GPIO_Pin_5);	
		/* GPIOD12输出高电平，关闭LED2	*/
		GPIO_SetBits(GPIOD, GPIO_Pin_12);	 
}

void KEY_Init(void)
{
	/*定义一个GPIO_InitTypeDef类型的结构体*/
	GPIO_InitTypeDef GPIO_InitStructure;
	/*开启按键端口（PC和PD）的时钟*/
	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC|RCC_APB2Periph_GPIOD,ENABLE);
	/* 选择上拉输入模式 */
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
	
	/* KEY1连接PC13，所以这里选择13 */
	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_13;
	/* 用库函数GPIO_Init()配置PC13 */
	GPIO_Init(GPIOC, &GPIO_InitStructure);
	
	/* KEY2连接PD3，所以这里选择3 */
	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_3;
	/* 用库函数GPIO_Init()配置PD3 */
	GPIO_Init(GPIOD, &GPIO_InitStructure);
}

void BEEP_Init(void)
{		
		/* 定义一个GPIO_InitTypeDef类型的结构体 */
		GPIO_InitTypeDef GPIO_InitStructure;
		/* 开启GPIOD的外设时钟 */
		RCC_APB2PeriphClockCmd( RCC_APB2Periph_GPIOD, ENABLE); 
		/* 选择要控制的GPIOB引脚 */															   
		GPIO_InitStructure.GPIO_Pin = GPIO_Pin_6;	
		/* 设置引脚模式为通用推挽输出 */
		GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP;   
		/* 设置引脚速率为50MHz */   
		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; 
		/* 调用库函数，初始化GPIOD6引脚 */
		GPIO_Init(GPIOD, &GPIO_InitStructure);		 
		/* GPIOD6输出低电平，关闭BEEP	*/
		GPIO_ResetBits(GPIOD, GPIO_Pin_6);	
}

volatile void Delay(uint32_t val)
{
	while(val--);
}


/**
  * @brief  Main program.
  * @param  None
  * @retval None
  */
int main(void)
{
 	ILI9341_Iint();
  LCD_Clear(0xf800);
	BACK_COLOR=0xf800;
	// 底下显示的汉字的字模数组，在这个文件的最上面
	LCD_ShowHZ64(88,0,0);// 显示汉字：给
	LCD_ShowHZ64(88,64,1);// 显示汉字：你
	LCD_ShowHZ64(88,128,2);// 显示汉字：拜
	LCD_ShowHZ64(88,192,3);// 显示汉字：年
	LCD_ShowHZ64(88,256,4);// 显示汉字：了
	
	LED_Init();
	LED1_ON;
	LED2_OFF;
	SysTick_Config(SystemCoreClock / 10);//100ms中断一次
	
	KEY_Init();
	BEEP_Init();
	Touch_Init();
	
  while (1)
  {
		if(KEY1_Status==0)
		{
			Delay(30000);
			if(KEY1_Status==0)
			{
				BEEP_ON;
				while(KEY1_Status==0);
				BEEP_OFF;
			}
		}
		if(KEY2_Status==0)
		{
			Delay(30000);
			if(KEY2_Status==0)
			{
				BEEP_ON;
				while(KEY2_Status==0);
				BEEP_OFF;
			}
		}
		if(GPIO_ReadInputDataBit(GPIOD, GPIO_Pin_13)==0) // 如果检测到触摸屏按下
		{
			if(TP_Read_XY()==0) // 如果成功读取到触摸坐标
			{
				LCD_ShowNum(20,0,X_Coord,6);	//显示横坐标的位置，从左到右0~239
				LCD_ShowNum(20,20,Y_Coord,6);	//显示纵坐标的位置，从上到下0~319
			}
		}
  }
}


/******************* (C) COPYRIGHT 2011 STMicroelectronics *****END OF FILE****/
